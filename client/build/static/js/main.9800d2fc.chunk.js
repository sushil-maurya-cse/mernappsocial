(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{51:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){},64:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){},90:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),n=r(38),c=r.n(n),o=(r(51),r(16)),l=r(6),i=r(45),d=r(19),u=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"FOLLOW":return Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{followings:[].concat(Object(i.a)(e.user.followings),[t.payload])})});case"UNFOLLOW":return Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{followings:e.user.followings.filter((function(e){return e!==t.payload}))})});default:return e}},j=r(0),b={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},m=Object(s.createContext)(b),h=function(e){var t=e.children,r=Object(s.useReducer)(u,b),a=Object(l.a)(r,2),n=a[0],c=a[1];return Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(n.user))}),[n.user]),Object(j.jsx)(m.Provider,{value:{user:n.user,isFetching:n.isFetching,error:n.error,dispatch:c},children:t})};function p(){var e=Object(s.useContext)(m).user,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER;return Object(j.jsx)("div",{class:"antialiased bg-gray-100 dark-mode:bg-gray-900 bg-purple-600 bg-opacity-30",children:Object(j.jsx)("div",{class:"w-full text-white-700 bg-white dark-mode:text-white-200 dark-mode:bg-gray-800 bg-transparent  ",children:Object(j.jsxs)("div",{"x-data":"{ open: true }",class:"flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8",children:[Object(j.jsxs)("div",{class:"flex flex-row items-center justify-between p-4",children:[Object(j.jsx)(o.b,{to:"/",className:"transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-115",children:Object(j.jsx)("a",{href:"#",class:"text-lg font-semibold tracking-widest text-yellow-900 uppercase rounded-lg dark-mode:text-white focus:outline-none focus:shadow-outline transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105",children:"MySocial App"})}),Object(j.jsx)("button",{class:"rounded-lg md:hidden focus:outline-none focus:shadow-outline",children:Object(j.jsxs)("svg",{fill:"currentColor",viewBox:"0 0 20 20",class:"w-6 h-6",children:[Object(j.jsx)("path",{"x-show":"!open","fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z","clip-rule":"evenodd"}),Object(j.jsx)("path",{"x-show":"open","fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})]})})]}),Object(j.jsxs)("nav",{class:" flex-col flex-grow hidden my-3 pb-8 md:pb-0 md:flex md:justify-end md:flex-row ",children:[Object(j.jsx)("div",{children:Object(j.jsxs)(o.b,{to:"/profile/".concat(e.username),className:"profilebanner transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105",children:[Object(j.jsx)("img",{class:"avatarImage",src:e.profilePicture?t+e.profilePicture:"/images/person/noAvatar.png"}),Object(j.jsxs)("p",{className:"text-sm font-semibold px-4",children:[e.username," "]})]})}),Object(j.jsx)("button",{class:"px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-yellow-200 md:mt-0 md:ml-4 hover:text-yellow-900 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105",href:"#",children:"Posts"}),Object(j.jsx)("button",{class:"px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-yellow-200 md:mt-0 md:ml-4 hover:text-yellow-900 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105",href:"#",children:"Nothing"}),Object(j.jsx)("button",{class:"px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-yellow-200 md:mt-0 md:ml-4 hover:text-yellow-900 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105",onClick:function(e){localStorage.removeItem("user"),window.location.href="/login"},children:"Logout"}),Object(j.jsx)("div",{class:"relative","x-data":"{open: true }"})]})]})})})}r(61),r(105),r(106),r(107),r(108),r(109),r(110),r(111),r(112),r(113);var x=[{id:1,profilePicture:"person/1.jpeg",username:"Safak Kocaoglu"},{id:2,profilePicture:"person/2.jpeg",username:"Janell Shrum"},{id:3,profilePicture:"person/3.jpeg",username:"Alex Durden"},{id:4,profilePicture:"person/4.jpeg",username:"Dora Hawks"},{id:5,profilePicture:"person/5.jpeg",username:"Thomas Holden"},{id:6,profilePicture:"person/6.jpeg",username:"Shirley Beauchamp"},{id:7,profilePicture:"person/7.jpeg",username:"Travis Bennett"},{id:8,profilePicture:"person/8.jpeg",username:"Kristen Thomas"},{id:9,profilePicture:"person/9.jpeg",username:"Gary Duty"},{id:10,profilePicture:"person/10.jpeg",username:"Safak Kocaoglu"}];r(62);var f=r(4),O=r.n(f),g=r(7),v=(r(64),r(5)),w=r.n(v),y=r(44);function N(e){var t=e.post,r=Object(s.useState)(t.likes.length),a=Object(l.a)(r,2),n=a[0],c=a[1],i=Object(s.useState)(""),d=Object(l.a)(i,2),u=d[0],b=d[1],h=Object(s.useState)(!1),p=Object(l.a)(h,2),x=p[0],f=p[1],v=Object(s.useState)({}),N=Object(l.a)(v,2),S=N[0],_=N[1],k=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER,P=Object(s.useContext)(m).user;Object(s.useEffect)((function(){f(t.likes.includes(P._id))}),[P._id,t.likes]),Object(s.useEffect)((function(){var e=function(){var e=Object(g.a)(O.a.mark((function e(){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/users?userId=".concat(t.userId));case 2:r=e.sent,_(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.userId]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{class:" rounded overflow-hidden border w-full lg:w-6/12 md:w-6/12 bg-white mx-3 md:mx-0 lg:mx-0",children:[Object(j.jsxs)("div",{class:"w-full flex justify-between p-3",children:[Object(j.jsxs)("div",{class:"flex",children:[Object(j.jsx)("div",{class:"rounded-full h-8 w-8 bg-gray-500 flex items-center justify-center overflow-hidden",children:Object(j.jsx)(o.b,{to:"/profile/".concat(S.username),children:Object(j.jsx)("img",{className:"postProfileImg",src:S.profilePicture?k+S.profilePicture:k+"person/noAvatar.png",alt:""})})}),Object(j.jsx)("span",{class:"pt-1 ml-2 font-bold text-sm",children:S.username}),Object(j.jsx)("span",{class:"pt-1 ml-2 font-bold text-sm",children:Object(y.a)(t.createdAt)})]}),Object(j.jsx)("span",{class:"px-2 hover:bg-gray-300 cursor-pointer rounded",children:Object(j.jsx)("i",{class:"fas fa-ellipsis-h pt-2 text-lg"})})]}),void 0!==t.img?Object(j.jsx)("img",{class:"w-full bg-cover",src:k+t.img}):"",Object(j.jsxs)("div",{class:"px-3 pb-2",children:[Object(j.jsxs)("div",{class:"pt-2",children:[Object(j.jsx)("img",{className:"likeIcon",src:"".concat(k,"like.png"),onClick:function(){try{w.a.put("/api/posts/"+t._id+"/like",{userId:P._id})}catch(e){}c(x?n-1:n+1),f(!x)},alt:""}),Object(j.jsx)("i",{class:"far fa-heart cursor-pointer"}),Object(j.jsxs)("span",{class:"text-sm text-gray-400 font-medium",children:[n," likes"]})]}),Object(j.jsx)("div",{class:"pt-1",children:Object(j.jsxs)("div",{class:"mb-2 text-sm",children:[Object(j.jsx)("span",{class:"font-medium mr-2  font-normal",children:S.username})," ",null===t||void 0===t?void 0:t.desc]})}),Object(j.jsxs)("div",{class:"text-sm mb-2 text-gray-400 cursor-pointer\t",children:["View all ",t.comment," comments"]}),Object(j.jsxs)("div",{class:"mb-2",children:[Object(j.jsxs)("div",{class:"mb-2 text-sm",children:[Object(j.jsx)("input",{type:"text",class:"font-medium mr-2",onChange:function(e){b(e.target.value)}}),Object(j.jsx)("button",{class:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded",onClick:function(){try{w.a.put("/api/posts/"+t._id+"/comment",{username:P.username,image:P.profilePicture,text:u}),window.location.reload()}catch(e){console.log(e)}},children:"Post"})]}),Object(j.jsx)("div",{class:"mb-2 text-sm",children:t.comments.map((function(e){return Object(j.jsxs)("div",{className:"commentArea",children:[Object(j.jsx)(o.b,{to:"/profile/".concat(e.name),children:Object(j.jsxs)("div",{className:"profileomment",children:[Object(j.jsx)("img",{src:e.image?k+e.image:k+"person/noAvatar.png",className:"rounded-full h-8 w-8 bg-gray-500 flex items-center justify-center overflow-hidden"}),Object(j.jsx)("span",{children:e.name})]})}),Object(j.jsx)("div",{className:"comment",children:e.text})]})}))})]})]})]})})}r(84);var S=r(114),_=r(115),k=r(116),P=r(117),C=r(118),I=r(3);function T(){var e=Object(s.useContext)(m).user,t=(Object(I.h)().username,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER),r=Object(s.useRef)(),a=Object(s.useState)(null),n=Object(l.a)(a,2),c=n[0],o=n[1],i=function(){var t=Object(g.a)(O.a.mark((function t(s){var a,n,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),a={userId:e._id,desc:r.current.value},!c){t.next=21;break}return n=new FormData,console.log("Data :: "),console.log(n),o=Date.now()+c.name,console.log("filename : "),console.log(o),n.append("name",o),n.append("file",c),console.log(n),a.img=o,console.log(a),t.prev=14,t.next=17,w.a.post("/api/upload",n).then((function(){console.log("Uploaded")}));case 17:t.next=21;break;case 19:t.prev=19,t.t0=t.catch(14);case 21:return t.prev=21,t.next=24,w.a.post("/api/posts",a).then((function(e){console.log("/api/posts/",e)}));case 24:window.location.reload(),t.next=29;break;case 27:t.prev=27,t.t1=t.catch(21);case 29:case"end":return t.stop()}}),t,null,[[14,19],[21,27]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"share",children:Object(j.jsxs)("div",{className:"shareWrapper",children:[Object(j.jsxs)("div",{className:"shareTop",children:[Object(j.jsx)("img",{className:"shareProfileImg",src:e.profilePicture?t+e.profilePicture:t+"person/noAvatar.png",alt:""}),Object(j.jsx)("input",{placeholder:"What's in your mind "+e.username+"?",className:"shareInput",ref:r})]}),Object(j.jsx)("hr",{className:"shareHr"}),c&&Object(j.jsxs)("div",{className:"shareImgContainer",children:[Object(j.jsx)("img",{className:"shareImg",src:URL.createObjectURL(c),alt:""}),Object(j.jsx)(S.a,{className:"shareCancelImg",onClick:function(){return o(null)}})]}),Object(j.jsxs)("form",{className:"shareBottom",onSubmit:i,children:[Object(j.jsxs)("div",{className:"shareOptions",children:[Object(j.jsxs)("label",{htmlFor:"file",className:"shareOption",children:[Object(j.jsx)(_.a,{htmlColor:"tomato",className:"shareIcon"}),Object(j.jsx)("span",{className:"shareOptionText",children:"Photo or Video"}),Object(j.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return o(e.target.files[0])}})]}),Object(j.jsxs)("div",{className:"shareOption",children:[Object(j.jsx)(k.a,{htmlColor:"blue",className:"shareIcon"}),Object(j.jsx)("span",{className:"shareOptionText",children:"Tag"})]}),Object(j.jsxs)("div",{className:"shareOption",children:[Object(j.jsx)(P.a,{htmlColor:"green",className:"shareIcon"}),Object(j.jsx)("span",{className:"shareOptionText",children:"Location"})]}),Object(j.jsxs)("div",{className:"shareOption",children:[Object(j.jsx)(C.a,{htmlColor:"goldenrod",className:"shareIcon"}),Object(j.jsx)("span",{className:"shareOptionText",children:"Feelings"})]})]}),Object(j.jsx)("button",{className:"shareButton",type:"submit",children:"Share"})]})]})})}r(85);function E(e){var t=e.username,r=Object(s.useState)([]),a=Object(l.a)(r,2),n=a[0],c=a[1],o=Object(s.useContext)(m).user;return Object(s.useEffect)((function(){var e=function(){var e=Object(g.a)(O.a.mark((function e(){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,w.a.get("/api/posts/profile/"+t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,w.a.get("/api/posts/timeline/"+o._id);case 8:e.t0=e.sent;case 9:r=e.t0,console.log("response from post fetch ::",r.data),c(r.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,o._id]),Object(j.jsx)("div",{className:"feed",children:Object(j.jsxs)("div",{className:"feedWrapper",children:[console.log(n),(!t||t===o.username)&&Object(j.jsx)(T,{}),console.log("Length",n.length),console.log(typeof n),n.map((function(e){return Object(j.jsx)(N,{post:e},e._id)}))]})})}r(86),r(87);function R(e){var t=e.user,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER;return Object(j.jsxs)("li",{className:"rightbarFriend",children:[Object(j.jsxs)("div",{className:"rightbarProfileImgContainer",children:[Object(j.jsx)("img",{className:"rightbarProfileImg",src:r+t.profilePicture,alt:""}),Object(j.jsx)("span",{className:"rightbarOnline"})]}),Object(j.jsx)("span",{className:"rightbarUsername",children:t.username})]})}var F=r(119),L=r(120);function D(e){var t=e.user,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER,a=Object(s.useState)([]),n=Object(l.a)(a,2),c=n[0],i=n[1],d=Object(s.useContext)(m),u=d.user,b=d.dispatch,h=Object(s.useState)(u.followings.includes(null===t||void 0===t?void 0:t.id)),p=Object(l.a)(h,2),f=p[0],v=p[1];Object(s.useEffect)((function(){var e=function(){var e=Object(g.a)(O.a.mark((function e(){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/api/users/friends/"+t._id);case 3:r=e.sent,i(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var y=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f){e.next=7;break}return e.next=4,w.a.put("/users/".concat(t._id,"/unfollow"),{userId:u._id});case 4:b({type:"UNFOLLOW",payload:t._id}),e.next=10;break;case 7:return e.next=9,w.a.put("/users/".concat(t._id,"/follow"),{userId:u._id});case 9:b({type:"FOLLOW",payload:t._id});case 10:v(!f),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),N=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"birthdayContainer",children:[Object(j.jsx)("img",{className:"birthdayImg",src:"assets/gift.png",alt:""}),Object(j.jsxs)("span",{className:"birthdayText",children:[Object(j.jsx)("b",{children:"Pola Foster"})," and ",Object(j.jsx)("b",{children:"3 other friends"})," have a birhday today."]})]}),Object(j.jsx)("img",{className:"rightbarAd",src:"assets/ad.png",alt:""}),Object(j.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(j.jsx)("ul",{className:"rightbarFriendList",children:x.map((function(e){return Object(j.jsx)(R,{user:e},e.id)}))})]})},S=function(){return Object(j.jsxs)(j.Fragment,{children:[t.username!==u.username&&Object(j.jsxs)("button",{className:"rightbarFollowButton",onClick:y,children:[f?"Unfollow":"Follow",f?Object(j.jsx)(F.a,{}):Object(j.jsx)(L.a,{})]}),Object(j.jsx)("h4",{className:"rightbarTitle",children:"User information"}),Object(j.jsxs)("div",{className:"rightbarInfo",children:[Object(j.jsxs)("div",{className:"rightbarInfoItem",children:[Object(j.jsx)("span",{className:"rightbarInfoKey",children:"City:"}),Object(j.jsx)("span",{className:"rightbarInfoValue",children:t.city})]}),Object(j.jsxs)("div",{className:"rightbarInfoItem",children:[Object(j.jsx)("span",{className:"rightbarInfoKey",children:"From:"}),Object(j.jsx)("span",{className:"rightbarInfoValue",children:t.from})]}),Object(j.jsxs)("div",{className:"rightbarInfoItem",children:[Object(j.jsx)("span",{className:"rightbarInfoKey",children:"Relationship:"}),Object(j.jsx)("span",{className:"rightbarInfoValue",children:1===t.relationship?"Single":1===t.relationship?"Married":"-"})]})]}),Object(j.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(j.jsx)("div",{className:"rightbarFollowings",children:c.map((function(e){return Object(j.jsx)(o.b,{to:"/profile/"+e.username,style:{textDecoration:"none"},children:Object(j.jsxs)("div",{className:"rightbarFollowing",children:[Object(j.jsx)("img",{src:e.profilePicture?r+e.profilePicture:r+"person/noAvatar.png",alt:"",className:"rightbarFollowingImg"}),Object(j.jsx)("span",{className:"rightbarFollowingName",children:e.username})]})})}))})]})};return Object(j.jsx)("div",{className:"rightbar",children:Object(j.jsx)("div",{className:"rightbarWrapper",children:t?Object(j.jsx)(S,{}):Object(j.jsx)(N,{})})})}r(88);function A(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)("div",{className:"homeContainer",children:Object(j.jsx)(E,{})})]})}r(89);var U=function(){var e=Object(g.a)(O.a.mark((function e(t,r){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"LOGIN_START"}),e.prev=1,e.next=4,w.a.post("/api/auth/login",t);case 4:s=e.sent,console.log("res"),r({type:"LOGIN_SUCCESS",payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:"LOGIN_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}();function W(){var e=Object(s.useRef)(),t=Object(s.useRef)(),r=Object(s.useContext)(m),a=(r.isFetching,r.dispatch);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{class:"font-sans",children:Object(j.jsx)("div",{class:"relative min-h-screen flex flex-col sm:justify-center items-center bg-gray-100 ",children:Object(j.jsxs)("div",{class:"relative sm:max-w-sm w-full",children:[Object(j.jsx)("div",{class:"card bg-blue-400 shadow-lg  w-full h-full rounded-3xl absolute  transform -rotate-6"}),Object(j.jsx)("div",{class:"card bg-red-400 shadow-lg  w-full h-full rounded-3xl absolute  transform rotate-6"}),Object(j.jsxs)("div",{class:"relative w-full rounded-3xl  px-6 py-4 bg-gray-100 shadow-md",children:[Object(j.jsx)("label",{for:"",class:"block mt-3 text-sm text-gray-700 text-center font-semibold",children:"Login"}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"email",placeholder:"Email",ref:e,class:"mt-1 block w-full border-none bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0"})}),Object(j.jsx)("div",{class:"mt-7",children:Object(j.jsx)("input",{type:"password",ref:t,placeholder:"password",class:"mt-1 block w-full border-none bg-gray-100 h-11 rounded-xl shadow-lg hover:bg-blue-100 focus:bg-blue-100 focus:ring-0"})}),Object(j.jsxs)("div",{class:"mt-7 flex",children:[Object(j.jsxs)("label",{for:"remember_me",class:"inline-flex items-center w-full cursor-pointer",children:[Object(j.jsx)("input",{id:"remember_me",type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",name:"remember"}),Object(j.jsx)("span",{class:"ml-2 text-sm text-gray-600",children:"Remember"})]}),Object(j.jsx)("div",{class:"w-full text-right",children:Object(j.jsx)("a",{class:"underline text-sm text-gray-600 hover:text-gray-900",href:"#",children:"Forgot Password"})})]}),Object(j.jsx)("div",{class:"mt-7",children:Object(j.jsx)("button",{onClick:function(r){r.preventDefault(),U({email:e.current.value,password:t.current.value},a)},class:"bg-blue-500 w-full py-3 rounded-xl text-white shadow-xl hover:shadow-inner focus:outline-none transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",children:"Sign In"})}),Object(j.jsxs)("div",{class:"flex mt-7 items-center text-center",children:[Object(j.jsx)("hr",{class:"border-gray-300 border-1 w-full rounded-md"}),Object(j.jsx)("label",{class:"block font-medium text-sm text-gray-600 w-full",children:"Social"}),Object(j.jsx)("hr",{class:"border-gray-300 border-1 w-full rounded-md"})]}),Object(j.jsxs)("div",{class:"flex mt-7 justify-center w-full",children:[Object(j.jsx)("button",{class:"mr-5 bg-blue-500 border-none px-4 py-2 rounded-xl cursor-pointer text-white shadow-xl hover:shadow-inner transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",children:"Facebook"}),Object(j.jsx)("button",{class:"bg-red-500 border-none px-4 py-2 rounded-xl cursor-pointer text-white shadow-xl hover:shadow-inner transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",children:"Google"})]}),Object(j.jsx)("div",{class:"mt-7",children:Object(j.jsxs)("div",{class:"flex justify-center items-center",children:[Object(j.jsx)("label",{class:"mr-2",children:"New to SocialApp"}),Object(j.jsx)("a",{href:"/register",class:" text-blue-500 transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",children:"Register Here"})]})})]})]})})})})}r(90);function H(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER,t=Object(s.useState)({}),r=Object(l.a)(t,2),a=r[0],n=r[1],c=Object(I.h)().username,o=Object(s.useState)(null),i=Object(l.a)(o,2),d=i[0],u=i[1],b=Object(s.useState)(null),h=Object(l.a)(b,2),x=h[0],f=h[1],v=Object(s.useContext)(m).user;console.log(v),console.log(JSON.parse(localStorage.getItem("user"))),Object(s.useEffect)((function(){var e=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/users?username=".concat(c));case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]);var y=function(){var e=Object(g.a)(O.a.mark((function e(t){var r,s,n,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r={userId:v._id},!d){e.next=19;break}return s=new FormData,console.log("Data :: "),console.log(s),n=Date.now()+d.name,console.log("filename : "),console.log(n),s.append("name",n),s.append("file",d),r.profilePicture=n,e.prev=12,e.next=15,w.a.post("/upload",s);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(12);case 19:if(!x){e.next=36;break}return c=new FormData,console.log("Data :: "),console.log(c),o=Date.now()+x.name,console.log("coverName : "),console.log(o),c.append("name",o),c.append("file",x),r.coverPicture=o,e.prev=29,e.next=32,w.a.post("/upload",c);case 32:e.next=36;break;case 34:e.prev=34,e.t1=e.catch(29);case 36:return e.prev=36,e.next=39,w.a.put("/users/"+a._id,r).then((function(e){var t=JSON.parse(localStorage.getItem("user"));for(var r in console.log(Object.keys(t).length),t)"profilePicture"===r?t[r]=e.data.profilePicture:"coverPicture"===r&&(t[r]=e.data.coverPicture);var s=JSON.stringify(t);console.log("After Update on Profile Picture"),console.log(s),localStorage.setItem("user",s),console.log("After Updatation"),console.log(JSON.parse(localStorage.getItem("user"))),console.log(e.data.profilePicture)}));case 39:window.location.reload(),e.next=44;break;case 42:e.prev=42,e.t2=e.catch(36);case 44:case"end":return e.stop()}}),e,null,[[12,17],[29,34],[36,42]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)("div",{className:"profile",children:Object(j.jsxs)("div",{className:"profileRight",children:[Object(j.jsx)("div",{className:"profileRightTop",children:Object(j.jsxs)("div",{className:"profileCover",children:[null!==x?Object(j.jsx)("img",{className:"profileCoverImg",src:URL.createObjectURL(x),alt:""}):Object(j.jsx)("img",{className:"profileCoverImg",src:a.coverPicture?e+a.coverPicture:e+"person/noCover.png",alt:""}),null!==d?Object(j.jsx)("img",{className:"profileUserImg",src:URL.createObjectURL(d),alt:""}):Object(j.jsx)("img",{className:"profileUserImg",src:a.profilePicture?e+a.profilePicture:e+"person/noAvatar.png",alt:""}),Object(j.jsxs)("form",{className:"shareBottom",onSubmit:y,children:[Object(j.jsxs)("label",{htmlFor:"cover",className:"shareOption",children:[Object(j.jsx)("span",{className:"shareOptionText cover",children:Object(j.jsx)("img",{src:e+"pencil.png"})}),Object(j.jsx)("input",{style:{display:"none"},type:"file",id:"cover",accept:".png,.jpeg,.jpg",onChange:function(e){return f(e.target.files[0])}})]}),Object(j.jsx)("div",{className:"shareOptions",children:Object(j.jsxs)("label",{htmlFor:"profile",className:"shareOption",children:[Object(j.jsx)("span",{className:"shareOptionText text",children:Object(j.jsx)("img",{className:"edit",src:e+"pencil.png"})}),Object(j.jsx)("input",{style:{display:"none"},type:"file",id:"profile",accept:".png,.jpeg,.jpg",onChange:function(e){return u(e.target.files[0])}})]})}),Object(j.jsx)("div",{className:"edit",children:Object(j.jsx)("button",{className:"shareButton editbutton",type:"submit",children:"Update"})})]}),Object(j.jsxs)("div",{className:"profileInfo",children:[Object(j.jsx)("h4",{className:"profileInfoName",children:a.username}),Object(j.jsx)("span",{className:"profileInfoDesc",children:a.desc})]})]})}),Object(j.jsxs)("div",{className:"profileRightBottom",children:[Object(j.jsx)(E,{username:c}),Object(j.jsx)(D,{user:a})]})]})})]})}r(91);function K(){var e=Object(s.useRef)(),t=Object(s.useState)(""),r=Object(l.a)(t,2),a=r[0],n=r[1],c=Object(s.useRef)(),o=Object(s.useRef)(),i=Object(s.useRef)(),d=Object(I.g)(),u=function(){var t=Object(g.a)(O.a.mark((function t(r){var s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),i.current.value===o.current.value){t.next=6;break}i.current.setCustomValidity("Passwords don't match!"),n("Passwords do not match"),t.next=16;break;case 6:return s={username:e.current.value,email:c.current.value,password:o.current.value},t.prev=7,t.next=10,w.a.post(" /api/auth/register",s);case 10:d.push("/login"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"bg-grey-lighter min-h-screen flex flex-col",children:Object(j.jsxs)("div",{className:"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2",children:[Object(j.jsxs)("div",{className:"bg-white px-6 py-8 rounded shadow-md text-black w-full",children:[Object(j.jsx)("h1",{className:"mb-8 text-3xl text-center",children:"Sign Up Here"}),Object(j.jsx)("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"fullname",ref:e,placeholder:"Full Name"}),Object(j.jsx)("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"email",ref:c,placeholder:"Email"}),Object(j.jsx)("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",ref:o,placeholder:"Password"}),Object(j.jsx)("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"confirm_password",ref:i,placeholder:"Confirm Password"}),a,Object(j.jsx)("button",{type:"submit",onClick:u,className:"w-full text-center py-3 rounded bg-green text-white hover:bg-green-dark focus:outline-none my-1",children:"Create Account"}),Object(j.jsxs)("div",{className:"text-center text-sm text-grey-dark mt-4",children:["By signing up, you agree to the",Object(j.jsx)("a",{className:"no-underline border-b border-grey-dark text-grey-dark",href:"#",children:"Terms of Service"})," and",Object(j.jsx)("a",{className:"no-underline border-b border-grey-dark text-grey-dark",href:"#",children:"Privacy Policy"})]})]}),Object(j.jsxs)("div",{className:"text-grey-dark mt-6",children:["Already have an account?",Object(j.jsx)("a",{className:"no-underline border-b border-blue text-blue",href:"../login/",children:"Log in"}),"."]})]})})})}var B=function(){var e=Object(s.useContext)(m).user;return Object(j.jsx)(o.a,{children:Object(j.jsxs)(I.d,{children:[Object(j.jsx)(I.b,{exact:!0,path:"/",children:e?Object(j.jsx)(A,{}):Object(j.jsx)(W,{})}),Object(j.jsx)(I.b,{path:"/login",children:e?Object(j.jsx)(I.a,{to:"/"}):Object(j.jsx)(W,{})}),Object(j.jsx)(I.b,{path:"/register",children:e?Object(j.jsx)(I.a,{to:"/"}):Object(j.jsx)(K,{})}),Object(j.jsx)(I.b,{path:"/profile/:username",children:e?Object(j.jsx)(H,{}):Object(j.jsx)(W,{})})]})})};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h,{children:Object(j.jsx)(B,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.9800d2fc.chunk.js.map