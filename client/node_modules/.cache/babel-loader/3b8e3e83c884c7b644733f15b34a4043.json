{"ast":null,"code":"import _regeneratorRuntime from\"/home/sushilkumar/Desktop/mernappsocial/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sushilkumar/Desktop/mernappsocial/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/sushilkumar/Desktop/mernappsocial/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useRef,useState}from\"react\";import\"./register.css\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){var username=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),passerr=_useState2[0],setPasserr=_useState2[1];var email=useRef();var password=useRef();var passwordAgain=useRef();var history=useHistory();var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(passwordAgain.current.value!==password.current.value)){_context.next=6;break;}passwordAgain.current.setCustomValidity(\"Passwords don't match!\");setPasserr(\"Passwords do not match\");_context.next=16;break;case 6:user={username:username.current.value,email:email.current.value,password:password.current.value};_context.prev=7;_context.next=10;return axios.post(\" /api/auth/register\",user);case 10:history.push(\"/login\");_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](7);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[7,13]]);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-grey-lighter min-h-screen flex flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-6 py-8 rounded shadow-md text-black w-full\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-8 text-3xl text-center\",children:\"Sign Up Here\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"block border border-grey-light w-full p-3 rounded mb-4\",name:\"fullname\",ref:username,placeholder:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"block border border-grey-light w-full p-3 rounded mb-4\",name:\"email\",ref:email,placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"block border border-grey-light w-full p-3 rounded mb-4\",name:\"password\",ref:password,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"block border border-grey-light w-full p-3 rounded mb-4\",name:\"confirm_password\",ref:passwordAgain,placeholder:\"Confirm Password\"}),passerr,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleClick,className:\"w-full text-center py-3 rounded bg-green text-white hover:bg-green-dark focus:outline-none my-1\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm text-grey-dark mt-4\",children:[\"By signing up, you agree to the\",/*#__PURE__*/_jsx(\"a\",{className:\"no-underline border-b border-grey-dark text-grey-dark\",href:\"#\",children:\"Terms of Service\"}),\" and\",/*#__PURE__*/_jsx(\"a\",{className:\"no-underline border-b border-grey-dark text-grey-dark\",href:\"#\",children:\"Privacy Policy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-grey-dark mt-6\",children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"a\",{className:\"no-underline border-b border-blue text-blue\",href:\"../login/\",children:\"Log in\"}),\".\"]})]})})});}","map":{"version":3,"sources":["/home/sushilkumar/Desktop/mernappsocial/client/src/pages/register/Register.jsx"],"names":["axios","useRef","useState","useHistory","Register","username","passerr","setPasserr","email","password","passwordAgain","history","handleClick","e","preventDefault","current","value","setCustomValidity","user","post","push","console","log"],"mappings":"4eAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,QAAjB,KAAiC,OAAjC,CACA,MAAO,gBAAP,CACA,OAASC,UAAT,KAA2B,cAA3B,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CACjC,GAAMC,CAAAA,QAAQ,CAAGJ,MAAM,EAAvB,CACA,cAA2BC,QAAQ,CAAC,EAAD,CAAnC,wCAAOI,OAAP,eAAeC,UAAf,eACA,GAAMC,CAAAA,KAAK,CAAGP,MAAM,EAApB,CACA,GAAMQ,CAAAA,QAAQ,CAAGR,MAAM,EAAvB,CACA,GAAMS,CAAAA,aAAa,CAAGT,MAAM,EAA5B,CACA,GAAMU,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,GAAMS,CAAAA,WAAW,0FAAG,iBAAOC,CAAP,2HAClBA,CAAC,CAACC,cAAF,GADkB,KAEdJ,aAAa,CAACK,OAAd,CAAsBC,KAAtB,GAAgCP,QAAQ,CAACM,OAAT,CAAiBC,KAFnC,0BAGhBN,aAAa,CAACK,OAAd,CAAsBE,iBAAtB,CAAwC,wBAAxC,EACAV,UAAU,CAAC,wBAAD,CAAV,CAJgB,8BAOVW,IAPU,CAOH,CACXb,QAAQ,CAAEA,QAAQ,CAACU,OAAT,CAAiBC,KADhB,CAEXR,KAAK,CAAEA,KAAK,CAACO,OAAN,CAAcC,KAFV,CAGXP,QAAQ,CAAEA,QAAQ,CAACM,OAAT,CAAiBC,KAHhB,CAPG,wCAaRhB,CAAAA,KAAK,CAACmB,IAAN,CAAW,qBAAX,CAAkCD,IAAlC,CAbQ,SAcdP,OAAO,CAACS,IAAR,CAAa,QAAb,EAdc,iFAgBdC,OAAO,CAACC,GAAR,cAhBc,qEAAH,kBAAXV,CAAAA,WAAW,4CAAjB,CAqBA,mBACE,sCACE,YAAK,SAAS,CAAC,4CAAf,uBACE,aAAK,SAAS,CAAC,kFAAf,wBACE,aAAK,SAAS,CAAC,wDAAf,wBACE,WAAI,SAAS,CAAC,2BAAd,0BADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,wDAFZ,CAGE,IAAI,CAAC,UAHP,CAGkB,GAAG,CAAEP,QAHvB,CAIE,WAAW,CAAC,WAJd,EAFF,cAQE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,wDAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,GAAG,CAAEG,KAJP,CAKE,WAAW,CAAC,OALd,EARF,cAeE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,wDAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,GAAG,CAAEC,QAJP,CAKE,WAAW,CAAC,UALd,EAfF,cAqBE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,wDAFZ,CAGE,IAAI,CAAC,kBAHP,CAIE,GAAG,CAAEC,aAJP,CAKE,WAAW,CAAC,kBALd,EArBF,CA2BKJ,OA3BL,cA6BE,eACE,IAAI,CAAC,QADP,CACgB,OAAO,CAAEM,WADzB,CAEE,SAAS,CAAC,iGAFZ,4BA7BF,cAkCE,aAAK,SAAS,CAAC,yCAAf,0DAEE,UAAG,SAAS,CAAC,uDAAb,CAAqE,IAAI,CAAC,GAA1E,8BAFF,qBAKE,UAAG,SAAS,CAAC,uDAAb,CAAqE,IAAI,CAAC,GAA1E,4BALF,GAlCF,GADF,cA8CE,aAAK,SAAS,CAAC,qBAAf,mDAEE,UAAG,SAAS,CAAC,6CAAb,CAA2D,IAAI,CAAC,WAAhE,oBAFF,OA9CF,GADF,EADF,EADF,CA2DD","sourcesContent":["import axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\n\nexport default function Register() {\n  const username = useRef();\n  const [passerr,setPasserr]=useState(\"\");\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n      setPasserr(\"Passwords do not match\")\n      \n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(\" /api/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <>\n      <div className=\"bg-grey-lighter min-h-screen flex flex-col\">\n        <div className=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\n          <div className=\"bg-white px-6 py-8 rounded shadow-md text-black w-full\">\n            <h1 className=\"mb-8 text-3xl text-center\">Sign Up Here</h1>\n            <input\n              type=\"text\"\n              className=\"block border border-grey-light w-full p-3 rounded mb-4\"\n              name=\"fullname\" ref={username}\n              placeholder=\"Full Name\" />\n\n            <input\n              type=\"text\"\n              className=\"block border border-grey-light w-full p-3 rounded mb-4\"\n              name=\"email\"\n              ref={email}\n              placeholder=\"Email\" />\n\n            <input\n              type=\"password\"\n              className=\"block border border-grey-light w-full p-3 rounded mb-4\"\n              name=\"password\"\n              ref={password}\n              placeholder=\"Password\" />\n            <input\n              type=\"password\"\n              className=\"block border border-grey-light w-full p-3 rounded mb-4\"\n              name=\"confirm_password\"\n              ref={passwordAgain}\n              placeholder=\"Confirm Password\" />\n              {passerr}\n\n            <button\n              type=\"submit\" onClick={handleClick}\n              className=\"w-full text-center py-3 rounded bg-green text-white hover:bg-green-dark focus:outline-none my-1\"\n            >Create Account</button>\n\n            <div className=\"text-center text-sm text-grey-dark mt-4\">\n              By signing up, you agree to the\n              <a className=\"no-underline border-b border-grey-dark text-grey-dark\" href=\"#\">\n                Terms of Service\n              </a> and\n              <a className=\"no-underline border-b border-grey-dark text-grey-dark\" href=\"#\">\n                Privacy Policy\n              </a>\n            </div>\n          </div>\n\n          <div className=\"text-grey-dark mt-6\">\n            Already have an account?\n            <a className=\"no-underline border-b border-blue text-blue\" href=\"../login/\">\n              Log in\n            </a>.\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}